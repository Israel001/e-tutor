const baseURL="https://e-tutor-server.herokuapp.com",baseClientURL="https://e-tutor-client.herokuapp.com",socket=io(baseURL),groupIds=[],conversationIds=[],autoLogout=e=>{setTimeout(()=>{logout()},e)},logout=()=>{localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("loggedIn"),localStorage.removeItem("expiryDate"),socket.emit("loggedOut",{groupIds:groupIds,userId:userId,conversationIds:conversationIds}),window.location="/index.html"};let loggedIn=localStorage.getItem("loggedIn");const token=localStorage.getItem("token"),userId=localStorage.getItem("userId"),expiryDate=localStorage.getItem("expiryDate");if(token&&expiryDate)if(new Date(expiryDate)<=new Date)logout();else{autoLogout(new Date(expiryDate).getTime()-(new Date).getTime())}else loggedIn=!1;Date.prototype.toDatetimeLocal=function(){let e=e=>(e<10?"0":"")+e;return`${this.getFullYear()}${e(this.getMonth()+1)}${e(this.getDate())}${e(this.getHours())}${e(this.getMinutes())}`};