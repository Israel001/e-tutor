function scrollb(){var e=document.getElementById("chat-messages");e.scrollTop=e.scrollHeight}function openmenu(){document.getElementById("side-menu").style.width="75%"}function closemenu(){document.getElementById("side-menu").style.width="0px"}function viewBygrid(){document.getElementById("gridmode").style.display="block",document.getElementById("listmode").style.display="none"}function viewBylist(){document.getElementById("listmode").style.display="block",document.getElementById("gridmode").style.display="none"}$(window).scroll(function(){$(window).scrollTop()>0?$("#back_top").show(300):$("#back_top").hide(300)}),$("#back_top").click(function(){$("html, body").animate({scrollTop:0},500)}),$(".bell").click(function(){$(".notify").slideToggle("slow",function(){})}),$(document).ready(function(){loggedIn&&$("#chat-messages").animate({scrollTop:$("#chat-messages")[0].scrollHeight},2e3)}),$(document).ready(function(){$(".slide-banner").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,dots:!1,focusOnSelect:!0}),$(".slide-star").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,dots:!0,focusOnSelect:!0}),$(".slide-s4").slick({slidesToShow:4,slidesToScroll:1,autoplay:!0,focusOnSelect:!0}),$(".slide-s7").slick({dots:!0,infinite:!0,speed:300,slidesToShow:2,autoplay:!0,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:1,dots:!0,autoplay:!0}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1,autoplay:!0,dots:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!0,dots:!0}}]}),$(".slide-s71").slick({slidesToShow:1,slidesToScroll:1,autoplay:!1,dots:!0,focusOnSelect:!0})}),$(document).ready(function(){$(".slide-s6").slick({dots:!0,infinite:!0,speed:300,slidesToShow:3,autoplay:!0,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,dots:!0,autoplay:!0}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:1,dots:!0,autoplay:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,autoplay:!0,dots:!0}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!0,dots:!0}}]})}),$(function(){var e=0;$(document).delegate(".chat-btn","click",function(){$(this).attr("chat-value");var t,a,n=$(this).html();$("#chat-input").attr("disabled",!1),a="",a+="<div id='cm-msg-"+ ++e+"' class=\"chat-msg "+(t="self")+'">',a+='          <span class="msg-avatar">',a+='            <img src="https://image.crisp.im/avatar/operator/196af8cc-f6ad-4ef7-afd1-c45d5231387c/240/?1483361727745">',a+="          </span>",a+='          <div class="cm-msg-text">',a+=n,a+="          </div>",a+="        </div>",$(".chat-logs").append(a),$("#cm-msg-"+e).hide().fadeIn(300),"self"==t&&$("#chat-input").val(""),$(".chat-logs").stop().animate({scrollTop:$(".chat-logs")[0].scrollHeight},1e3)}),$("#chat-circle").click(function(){$("#chat-circle").toggle("scale"),$(".chat-box").toggle("scale")}),$(".chat-box-toggle").click(function(){$("#chat-circle").toggle("scale"),$(".chat-box").toggle("scale")})}),$(document).ready(function(){document.createElement("img").src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/245657/timeline1.png",$("#searchfield").focus(function(){"Search contacts..."==$(this).val()&&$(this).val("")}),$("#searchfield").focusout(function(){""==$(this).val()&&$(this).val("Search contacts...")}),$("#sendmessage input").focus(function(){"Send message..."==$(this).val()&&$(this).val("")}),$("#sendmessage input").focusout(function(){""==$(this).val()&&$(this).val("Send message...")}),$(".friend").each(function(){$(this).click(function(){var e=$(this).offset(),t=$(this).parent().parent().offset(),a=e.top-t.top,n=$(this).find("img").eq(0).clone(),s=a+12+"px";$(n).css({top:s}).addClass("floatingImg").appendTo("#chatbox"),setTimeout(function(){$("#profile p").addClass("animate"),$("#profile").addClass("animate")},100),setTimeout(function(){$("#chat-messages").addClass("animate"),$(".cx, .cy").addClass("s1"),setTimeout(function(){$(".cx, .cy").addClass("s2")},100),setTimeout(function(){$(".cx, .cy").addClass("s3")},200)},150),$(".floatingImg").animate({width:"68px",left:"108px",top:"20px"},200);var i=$(this).find("p strong").html(),r=$(this).find("p span").html();$("#profile p").html(i),$("#profile span").html(r),$(".message").not(".right, #unfloat").find("img").attr("src",$(n).attr("src")),$("#friendslist").fadeOut(),$("#chatview").fadeIn(),$("#close").unbind("click").click(function(){$("#chat-messages, #profile, #profile p").removeClass("animate"),$(".cx, .cy").removeClass("s1 s2 s3"),$(".floatingImg").animate({width:"40px",top:s,left:"12px"},200,function(){$(".floatingImg").remove()}),setTimeout(function(){$("#chatview").fadeOut(),$("#friendslist").fadeIn()},50)})})})});var daysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];function Month(e,t,a){this.date=new Date(e,t,0),this.numberofdays=this.date.getDate(),this.numberofmonth=this.date.getMonth(),this.nameofmonth=MonthNames[this.date.getMonth()],this.firstday=1,this.year=this.date.getFullYear(),this.calendar=generateCalendar(this.numberofdays,e,t-1,this.firstday,a)}function Date2Day(e,t,a){return new Date(e,t,a).getDay()}function generateCalendar(e,t,a,n,s){var i=daysOfWeek[Date2Day(t,a,n)];return i in s?s[i].push(n):s[i]=[n],++n>e?s:generateCalendar(e,t,a,n,s)}function addZero(e){return e<10&&(e="0"+e),e}function resetColors(){return{dColor:{color:"#2980b9"},color1:{color:"#DB1B1B"},color2:{color:"#8BB929"},color3:{color:"#E4F111"},color4:{color:"#8129B9"},color5:{color:"#666666"}}}Date.daysBetween=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=(new Date(t.getFullYear(),t.getMonth(),t.getDate())-a)/864e5;return Math.trunc(n)};var Calendar=React.createClass({displayName:"Calendar",getInitialState:function(){return this.generateCalendar()},generateCalendar:function(){var e=new Date,t=new Date,a={};return{dates:a=new Month(e.getFullYear(),e.getMonth()+1,a),today:e,entry:"+",present:t,entries:[],dColor:{color:"#2980b9"},color1:{color:"#DB1B1B"},color2:{color:"#8BB929"},color3:{color:"#E4F111"},color4:{color:"#8129B9"},color5:{color:"#666666"},file:{}}},update:function(e){var t={};return t=new Month(this.state.dates.date.getFullYear(),"left"==e?this.state.dates.date.getMonth():this.state.dates.date.getMonth()+2,t),this.state.currDay="",this.state.currMonth="",this.state.currYear="",$(".float").removeClass("rotate"),this.setState({dates:t})},selectedDay:function(e){this.state.warning="";var t=new Date;t.setDate(e);var a=this.state.dates.nameofmonth,n=this.state.dates.numberofmonth,s=this.state.dates.date.getFullYear();return this.setState({today:t,currDay:e,currMonth:a,currYear:s,currMonthN:n})},returnPresent:function(){$(".float").hasClass("rotate")&&($(".float").removeClass("rotate"),$("#add_entry").addClass("animated slideOutDown"),window.setTimeout(function(){$("#add_entry").css("display","none")},500),$("#entry_name").val(""));var e={},t=new Date;return e=new Month(t.getFullYear(),t.getMonth()+1,e),this.state.currDay="",this.state.currMonth="",this.state.currYear="",$(".float").removeClass("rotate"),this.setState({dates:e,today:t})},addEntry:function(e){if(!this.state.currDay)return this.setState({warning:"Select a day to make an entry!"});if($(".float").hasClass("rotate")){$(".float").removeClass("rotate"),$(".entry").css("background","none"),$("#open_entry").addClass("animated slideOutDown"),$("#add_entry").addClass("animated slideOutDown"),window.setTimeout(function(){$("#add_entry").css("display","none"),$("#open_entry").css("display","none")},700),$("#entry_name").val(""),$("#all-day").prop("checked",!1),$("#not-all-day").css("display","block"),$("#enter_hour").val(""),$("#entry_location").val(""),$("#entry_note").val("");var t=new resetColors;return this.setState(t)}$(".float").addClass("rotate"),$("#add_entry").removeClass("animated slideOutDown"),$("#add_entry").addClass("animated slideInUp"),$("#add_entry").css("display","block"),window.setTimeout(function(){$("#entry_name").focus()},700)},saveEntry:function(e,t,a){var n=$("#entry_name").val();if($.trim(n).length>0){var s=new Date,i={year:e,month:t,day:a};if($(".duration").css("background","none"),$("#all-day").is(":checked"))var r="All day";else{if(!($("#enter_hour").val()&&$("#enter_hour").val()>=0&&$("#enter_hour").val()<=24))return $(".duration").css("background","#F7E8E8"),0;r=addZero($("#enter_hour").val())}if($("#entry_location").val())var l=$("#entry_location").val();else l="";if($("#entry_note").val())var o=$("#entry_note").val();else o="";var c=this.state.file,d={entryName:n,entryDate:i,entryTime:s,entryDuration:r,entryLocation:l,entryNote:o,entryColor:this.state.dColor,entryImg:c};this.state.entries.splice(0,0,d),$(".float").removeClass("rotate"),$("#add_entry").addClass("animated slideOutDown"),window.setTimeout(function(){$("#add_entry").css("display","none")},700),$("#entry_name").val(""),$("#all-day").prop("checked",!1),$("#not-all-day").css("display","block"),$("#enter_hour").val(""),$("#entry_location").val(""),$("#entry_note").val("");var m=new resetColors;return this.setState({entries:this.state.entries}),this.setState(m)}},deleteEntry:function(e){this.state.entries.splice(e,1),$(".float").removeClass("rotate"),$("#open_entry").addClass("animated slideOutDown"),$("#add_entry").addClass("animated slideOutDown"),window.setTimeout(function(){$("#add_entry").css("display","none"),$("#open_entry").css("display","none")},700),$(".entry").css("background","none"),$("#entry_name").val(""),$("#all-day").prop("checked",!1),$("#not-all-day").css("display","block"),$("#enter_hour").val(""),$("#entry_location").val(""),$("#entry_note").val("");var t=new resetColors;return this.setState({entries:this.state.entries}),this.setState(t)},openEntry:function(e,t){if(!$(".float").hasClass("rotate"))return window.setTimeout(function(){$("#open_entry").removeClass("animated slideOutDown"),$("#open_entry").addClass("animated slideInUp"),$("#open_entry").css("display","block")},50),$(".float").addClass("rotate"),$("#"+t).css("background","#F1F1F1"),this.setState({openEntry:e});$(".float").removeClass("rotate"),$("#open_entry").addClass("animated slideOutDown"),window.setTimeout(function(){$("#open_entry").css("display","none")},700),$(".entry").css("background","none"),$("#"+t).css("background","none")},setColor:function(e,t){switch(t){case"color1":var a={color:this.state.dColor.color},n={color:e.color};return this.setState({dColor:n,color1:a});case"color2":a={color:this.state.dColor.color},n={color:e.color};return this.setState({dColor:n,color2:a});case"color3":a={color:this.state.dColor.color},n={color:e.color};return this.setState({dColor:n,color3:a});case"color4":a={color:this.state.dColor.color},n={color:e.color};return this.setState({dColor:n,color4:a});case"color5":a={color:this.state.dColor.color},n={color:e.color};return this.setState({dColor:n,color5:a})}},handleImage:function(e){e.preventDefault();let t=new FileReader,a=e.target.files[0];if(a)t.onloadend=(()=>{var e=t.result,n={file:a,readerResult:e};this.setState({file:n})}),t.readAsDataURL(a);else{this.setState({file:{}})}},openMenu:function(){$("#menu").css("display","block"),$("#menu-content").addClass("animated slideInLeft"),$("#menu-content").css("display","block")},render:function(){var e=[];for(var t in this.state.dates.calendar)e.push(this.state.dates.calendar[t]);var a=Object.keys(this.state.dates.calendar),n=!1,s=0,i="";if(this.state.openEntry){var r=new Date(this.state.openEntry.entryDate.year,this.state.openEntry.entryDate.month,this.state.openEntry.entryDate.day);r>this.state.present?1==(i=Date.daysBetween(this.state.present,r))?i="Tomorrow":i+=" days to go":r<this.state.present&&(1==(i=Date.daysBetween(r,this.state.present))?i="Yesterday":i+=" days ago"),this.state.present.getDate()===this.state.openEntry.entryDate.day&&this.state.present.getMonth()===this.state.openEntry.entryDate.month&&this.state.present.getFullYear()===this.state.openEntry.entryDate.year&&(i="Today")}return React.createElement("div",null,React.createElement("div",{id:"calendar"},React.createElement("div",{id:"menu"},React.createElement("div",{id:"menu-content"},React.createElement("div",{className:"madeBy"},React.createElement("div",{className:"madeOverlay"},React.createElement("span",{id:"madeName"},"Ricardo Barbosa"),React.createElement("span",{id:"madeInfo"},"WebDeveloper - Portugal"),React.createElement("span",{id:"madeWeb"},React.createElement("a",{target:"_blank",href:"https://github.com/RicardoPBarbosa"},React.createElement("i",{className:"fa fa-github","aria-hidden":"true"})," GitHub")),React.createElement("span",{id:"madeWeb"},React.createElement("a",{target:"_blank",href:"https://codepen.io/RicardoBarbosa/"},React.createElement("i",{className:"fa fa-codepen","aria-hidden":"true"})," CodePen"))),React.createElement("img",{src:"https://imgur.com/LOaisfQ.jpg",width:"260",height:"200"}))),React.createElement("div",{id:"click-close"})),React.createElement("div",{id:"header"},React.createElement("i",{className:"fa fa-bars","aria-hidden":"true",onClick:this.openMenu}),React.createElement("p",null,this.state.dates.nameofmonth," ",this.state.dates.year),React.createElement("div",null,React.createElement("i",{onClick:this.returnPresent,className:"fa fa-calendar-o","aria-hidden":"true"},React.createElement("span",null,this.state.present.getDate()))),React.createElement("i",{className:"fa fa-search","aria-hidden":"true"})),React.createElement("div",{id:"add_entry"},React.createElement("div",{className:"enter_entry"},React.createElement("input",{type:"text",placeholder:"Enter title",id:"entry_name"}),React.createElement("span",{id:"save_entry",onClick:this.saveEntry.bind(null,this.state.currYear,this.state.currMonthN,this.state.currDay)},"SAVE")),React.createElement("div",{className:"entry_details"},React.createElement("div",null,React.createElement("div",{className:"entry_info first"},React.createElement("i",{className:"fa fa-image","aria-hidden":"true"}),React.createElement("input",{type:"file",name:"entry-img",id:"entry-img",onChange:e=>this.handleImage(e)}),React.createElement("label",{htmlFor:"entry-img",id:"for_img"},React.createElement("span",{id:"file_name"},"Choose an image")),React.createElement("span",{id:"remove_img"},"Remove")),React.createElement("div",{className:"entry_info2 first second duration"},React.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}),React.createElement("input",{className:"toggle",type:"checkbox",name:"all-day",id:"all-day"}),React.createElement("p",null,"All-day"),React.createElement("div",{id:"not-all-day"},React.createElement("p",{id:"select_hour"},"Select hour"),React.createElement("p",{id:"hour"},React.createElement("input",{type:"number",id:"enter_hour",min:"0",max:"24"})," h"))),React.createElement("div",{className:"entry_info2"},React.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),React.createElement("input",{type:"text",placeholder:"Add location",id:"entry_location"})),React.createElement("div",{className:"entry_info2"},React.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"}),React.createElement("textarea",{id:"entry_note",cols:"35",rows:"2",placeholder:"Add note"})),React.createElement("div",{className:"entry_info colors"},React.createElement("i",{className:"fa fa-circle","aria-hidden":"true",id:"blue",style:this.state.dColor}),React.createElement("p",{id:"defColor"},"Default color"),React.createElement("div",null,React.createElement("span",null,React.createElement("i",{onClick:this.setColor.bind(null,this.state.color1,"color1"),className:"fa fa-circle","aria-hidden":"true",style:this.state.color1})),React.createElement("span",null,React.createElement("i",{onClick:this.setColor.bind(null,this.state.color2,"color2"),className:"fa fa-circle","aria-hidden":"true",style:this.state.color2})),React.createElement("span",null,React.createElement("i",{onClick:this.setColor.bind(null,this.state.color3,"color3"),className:"fa fa-circle","aria-hidden":"true",style:this.state.color3})),React.createElement("span",null,React.createElement("i",{onClick:this.setColor.bind(null,this.state.color4,"color4"),className:"fa fa-circle","aria-hidden":"true",style:this.state.color4})),React.createElement("span",null,React.createElement("i",{onClick:this.setColor.bind(null,this.state.color5,"color5"),className:"fa fa-circle","aria-hidden":"true",style:this.state.color5}))))))),this.state.openEntry?React.createElement("div",{id:"open_entry"},React.createElement("div",{className:"entry_img",style:{backgroundColor:this.state.openEntry.entryColor.color}},React.createElement("div",{className:"overlay"},React.createElement("div",null,React.createElement("p",null,React.createElement("span",{id:"entry_title"},this.state.openEntry.entryName),React.createElement("span",{id:"entry_times"},i," ","All day"===this.state.openEntry.entryDuration?"| All day":"at "+this.state.openEntry.entryDuration+":00")))),React.createElement("img",{src:this.state.openEntry.entryImg.readerResult,width:"400px",height:"300px"})),React.createElement("div",{className:"entry openedEntry"},React.createElement("div",null,React.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"})," ",this.state.openEntry.entryLocation?this.state.openEntry.entryLocation:React.createElement("span",null,"No location"))),React.createElement("div",{className:"entry openedEntry noteDiv"},React.createElement("div",null,React.createElement("i",{className:"fa fa-pencil","aria-hidden":"true"})," ",this.state.openEntry.entryNote?React.createElement("span",{id:"note"},this.state.openEntry.entryNote):React.createElement("span",null,"No description")))):null,React.createElement("div",{id:"arrows"},React.createElement("i",{className:"fa fa-arrow-left","aria-hidden":"true",onClick:this.update.bind(null,"left")}),React.createElement("i",{className:"fa fa-arrow-right","aria-hidden":"true",onClick:this.update.bind(null,"right")})),React.createElement("div",{id:"dates"},e.map(function(e,t){return React.createElement("div",{key:t},React.createElement("p",{className:"weekname"},a[t].substring(0,3)),React.createElement("ul",null,e.map(function(e,t){var a={};return this.state.entries.map(function(t,n){t.entryDate.day!=e||t.entryDate.month!=this.state.dates.numberofmonth||t.entryDate.year!=this.state.dates.year||(a={borderWidth:"2px",borderStyle:"solid",borderColor:"#8DBEDE"})}.bind(this)),React.createElement("li",{className:e===this.state.today.getDate()?"today":null,key:t,style:a,onClick:this.selectedDay.bind(null,e)},e)}.bind(this))))}.bind(this))),this.state.warning?React.createElement("div",{className:"warning"},this.state.warning):null,React.createElement("div",{id:"ignoreOverflow"},React.createElement("button",{className:"float",onClick:this.addEntry.bind(null,this.state.today.getDate())},this.state.entry))),this.state.currDay?React.createElement("div",{id:"entries"},React.createElement("div",{className:"contain_entries"},React.createElement("div",{id:"entries-header"},React.createElement("p",{className:"entryDay"},this.state.currDay," ",this.state.currMonth),this.state.present.getDate()===this.state.currDay&&this.state.present.getMonth()===this.state.currMonthN&&this.state.present.getFullYear()===this.state.currYear?React.createElement("p",{className:"currday"},"TODAY"):null),""!=this.state.entries?React.createElement("div",null,this.state.entries.map(function(e,t){if(s++,e.entryDate.day===this.state.currDay&&e.entryDate.month===this.state.currMonthN&&e.entryDate.year===this.state.currYear){n=!0;var a={borderLeftColor:e.entryColor.color,borderLeftWidth:"4px",borderLeftStyle:"solid"};return React.createElement("div",{className:"entry",id:t,key:t},React.createElement("div",{style:a},React.createElement("div",{className:"entry_left",onClick:this.openEntry.bind(null,e,t)},React.createElement("p",{className:"entry_event"},e.entryName),React.createElement("p",{className:"entry_time"},"All day"===e.entryDuration?"All day":e.entryDuration+" h"," ",e.entryLocation?" | "+e.entryLocation:null)),React.createElement("div",{className:"delete_entry"},React.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:this.deleteEntry.bind(null,t)}))))}if(s===this.state.entries.length&&!n)return n=!0,React.createElement("div",{className:"no-entries",key:t},React.createElement("i",{className:"fa fa-calendar-check-o","aria-hidden":"true"}),React.createElement("span",null,"No events planned for today"))}.bind(this))):React.createElement("div",{className:"no-entries"},React.createElement("i",{className:"fa fa-calendar-check-o","aria-hidden":"true"}),React.createElement("span",null,"No events planned for today")))):null)}});ReactDOM.render(React.createElement(Calendar,null),document.getElementById("app")),function(e,t){e("#all-day").click(function(){this.checked?e("#not-all-day").css("display","none"):e("#not-all-day").css("display","block")}),e("#click-close").click(function(){e("#menu-content").removeClass("animated slideInLeft"),e("#menu-content").addClass("animated slideOutLeft"),window.setTimeout(function(){e("#menu").css("display","none"),e("#menu-content").css("display","none"),e("#menu-content").removeClass("animated slideOutLeft")},750)}),e("#entry-img").bind("change",function(e){var t=this.nextElementSibling,a="";a=this.files?e.target.value.split("\\").pop():"",t.querySelector("span").innerHTML=""!=a?a:"Choose an image"}),e("button").each(function(t){var a=e(this),n=a.html();a.html("").append(e('<div class="btn"/>').html(n))}).append(e('<div class="ink-visual-container"/>').append(e('<div class="ink-visual-static"/>'))).on("mousedown touchstart",function(t){event.preventDefault();var a=e(this),n=a.find(".ink-visual-static",!0).eq(0);if(n.length){n.find(".ink-visual").addClass("hide");var s,i,r,l,o,c,d=this.getBoundingClientRect(),m=n[0].getBoundingClientRect();if(event.changedTouches?(s=event.changedTouches[0].clientX,i=event.changedTouches[0].clientY):(s=event.clientX,i=event.clientY),a.is(".float")){var u=d.width/2,h=d.height/2,y=(u+h)/2,p=d.left+u,f=d.top+h;o=s-p,c=i-f,r=Math.sqrt(o*o+c*c)+y}l=2*r;var v=e('<div class="ink-visual"/>').width(l).height(l).css("left",s-m.left-r).css("top",i-m.top-r).on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(){var t=e(this);switch(event.animationName){case"ink-visual-show":a.is(":active")&&t.addClass("shown");break;case"ink-visual-hide":t.remove()}}).on("touchend",function(){event.preventDefault()});n.append(v)}}),e(window).on("mouseup touchend",function(t){e(".ink-visual-static").children(".ink-visual").addClass("hide")}).on("select selectstart",function(e){return event.preventDefault(),!1})}(jQuery);var AttachmentArray=[],arrCounter=0,input=$("#upload__input").val();!function(e){function t(t,a,n){var s="";switch(t.type){case"image/png":case"image/jpeg":case"image/gif":s=e('<img src="'+a+'" data-id="preview_'+n+'" />');break;case"video/mp4":case"video/webm":case"video/ogg":s=e('<video autoplay muted width="100%" height="100%"><source src="'+a+'" type="'+t.type+'"></video>');break;case"application/pdf":s=e('<canvas id="" width="100%" height="100%"></canvas>')}var i=e('<div class="preview" id="preview_'+n+'">                                <div class="preview__item">                                <span class="closes">x</span>                                <div class="preview__thumb"></div>                                <span class="preview__name" title="'+t.name+'">'+t.name+'</span>                                <span class="preview__type" title="'+t.type+'">'+t.type+"</span>                                </div>                            </div>");i.find(".preview__thumb").append(s),e(".upload__files").append(i),"application/pdf"===t.type&&function(e,t){PDFJS.getDocument(e).then(function(e){e.getPage(1).then(function(e){var a=t.find(".preview__thumb"),n=a.find("canvas")[0];n.height=a.innerHeight(),n.width=a.innerWidth();var s=e.getViewport(1),i=n.width/s.width,r=n.height/s.height,l=i<r?i:r,o=e.getViewport(l),c={canvasContext:n.getContext("2d"),viewport:o};e.render(c)})})}(a,i)}function a(a){var s=window.URL||window.webkitURL,i=a.target.files;if(i.length>0){e(".upload__files").html("");for(var r=0;r<i.length;r++){var l=i[r];t(l,s.createObjectURL(l),r),n(l)}console.log(AttachmentArray)}}function n(e){AttachmentArray[arrCounter]={AttachmentType:1,ObjectType:1,FileName:e.name,FileDescription:"Attachment",NoteText:"",MimeType:e.type,FileSizeInBytes:e.size},arrCounter+=1}e(document).ready(function(){e("input:file").on("change",a)})}(jQuery.noConflict()),jQuery(function(e){e("div").on("click",".preview__item .closes",function(){var t=e(this).closest(".preview__item").find("img").data("id"),a=AttachmentArray.map(function(e){return e.FileName}).indexOf(t);-1!==a&&AttachmentArray.splice(a,1),e(this).parent().find("img").not().remove(),e(this).parent().find("div").not().remove(),e(this).parent().parent().find("div").not().remove(),e("#"+t).remove()})});